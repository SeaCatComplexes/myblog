{{- with .Site.Params.comments.gitalk -}}
<div id="gitalk-container"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: "Ov23li0oG8xUAIvrnJZV",
        clientSecret: "64ebdcc110a22a2124037b261bf4b991ca7ac866",
        repo: "{{ .repo }}",
        owner: "{{ .owner }}",
        admin: ["{{ .admin }}"],
        id: md5(location.pathname),
        title: document.title,
        distractionFreeMode: false,
        createIssueManually: true,
        enableHotKey: true,
        placeholder: "Leave your comments",
        proxy: "{{ .proxy }}"
    });
        
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById("gitalk-container").innerHTML = "Gitalk comments not available by default when the website is previewed locally.";
            return;
        }
        gitalk.render("gitalk-container");
    })();
</script>
{{ end }} 